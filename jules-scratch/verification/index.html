<!DOCTYPE html>
<html>
<head>
    <title>Atlas.js Test</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="../../atlasjs-dev.js"></script>
    <style>
        #map { height: 500px; width: 100%; }
        /* Basic styling to ensure the map container is visible */
        .atlas-container { font: 14px/1.5 "Helvetica Neue", Arial, Helvetica, sans-serif; }
    </style>
</head>
<body>

<div id="map"></div>

<script>
    // Explicitly set the icon path to prevent lookup errors in the sandbox
    // This is a common workaround when CSS-based path detection fails.
    atlas.Icon.Default.imagePath = 'https://unpkg.com/leaflet@1.7.1/dist/images/';

    var map = atlas.map('map', {
        center: [33.5731, -7.5898], // Casablanca
        zoom: 13
    });

    atlas.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);

    atlas.marker([33.5731, -7.5898]).addTo(map)
        .bindPopup('A pretty CSS3 popup.<br> Easily customizable.')
        .openPopup();
</script>

</body>
</html>